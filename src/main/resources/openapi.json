{"info":{"title":"Tempmon API","version":"3.0.0"},"tags":[],"servers":[{"url":"http://localhost:9247"}],"paths":{"/devices":{"get":{"summary":"Get all devices","description":"Retrieves all devices from the database with pagination","tags":[""],"parameters":[{"schema":{"type":"integer"},"in":"query","name":"limit","required":false,"description":"Maximum number of measurements to retrieve (default: 100)"},{"schema":{"type":"integer"},"in":"query","name":"offset","required":false,"description":"Offset to start retrieving measurements from (default: 0)"}],"responses":{"200":{"description":"Successful response with devices","content":{"application/json":{"example":[{"macAddress":"00:11:22:33:44:55","name":"Sensor1"}],"schema":{"items":{"$ref":"#/components/schemas/Device"},"example":[{"macAddress":"00:11:22:33:44:55","name":"Sensor1"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving devices","content":{}}},"security":[],"operationId":"getAllDevices","deprecated":false}},"/measurements":{"get":{"summary":"Get all measurements","description":"Retrieves all measurements from the database with pagination","tags":[""],"parameters":[{"schema":{"type":"integer"},"in":"query","name":"limit","required":false,"description":"Maximum number of measurements to retrieve (default: 100)"},{"schema":{"type":"integer"},"in":"query","name":"offset","required":false,"description":"Offset to start retrieving measurements from (default: 0)"}],"responses":{"200":{"description":"Successful response with measurements","content":{"application/json":{"example":{"measurements":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"count":1},"schema":{"$ref":"#/components/schemas/MeasurmentsWithCount"}}}},"400":{"description":"Error retrieving measurements","content":{}}},"security":[],"operationId":"getAllMeasurements","deprecated":false}},"/measurements/avgHumidity":{"get":{"summary":"Get average humidity in time range","description":"Retrieves average humidity from the database within a specified time range","tags":[""],"parameters":[{"schema":{"type":"string"},"in":"query","name":"startTime","required":false,"description":"Start time in ISO format (default: 24 hours ago)"},{"schema":{"type":"string"},"in":"query","name":"endTime","required":false,"description":"End time in ISO format (default: now)"}],"responses":{"200":{"description":"Successful response with average humidity","content":{"application/json":{"example":60.2,"schema":{"example":60.20000076293945,"type":"number","nullable":false}}}},"400":{"description":"Error retrieving average humidity in time range","content":{}}},"security":[],"operationId":"getAvgHumidityInTimeRange","deprecated":false}},"/measurements/avgTemperature":{"get":{"summary":"Get average temperature in time range","description":"Retrieves average temperature from the database within a specified time range","tags":[""],"parameters":[{"schema":{"type":"string"},"in":"query","name":"startTime","required":false,"description":"Start time in ISO format (default: 24 hours ago)"},{"schema":{"type":"string"},"in":"query","name":"endTime","required":false,"description":"End time in ISO format (default: now)"}],"responses":{"200":{"description":"Successful response with average temperature","content":{"application/json":{"example":25.5,"schema":{"example":25.5,"type":"number","nullable":false}}}},"400":{"description":"Error retrieving average temperature in time range","content":{}}},"security":[],"operationId":"getAvgTemperatureInTimeRange","deprecated":false}},"/measurements/device":{"get":{"summary":"Get all measurements by device","description":"Retrieves all measurements from the database with pagination for a specific device","tags":[""],"parameters":[{"schema":{"type":"integer"},"in":"query","name":"limit","required":false,"description":"Maximum number of measurements to retrieve (default: 100)"},{"schema":{"type":"integer"},"in":"query","name":"offset","required":false,"description":"Offset to start retrieving measurements from (default: 0)"},{"schema":{"type":"string"},"in":"query","name":"deviceMac","required":true,"description":"MAC address of the device to filter measurements by"}],"responses":{"200":{"description":"Successful response with measurements","content":{"application/json":{"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"schema":{"items":{"$ref":"#/components/schemas/Measurement"},"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving measurements","content":{}}},"security":[],"operationId":"getAllMeasurementsForDevice","deprecated":false}},"/measurements/latest":{"get":{"summary":"Get latest measurements by device","description":"Retrieves the latest measurement for each device","tags":[""],"parameters":[],"responses":{"200":{"description":"Successful response with latest measurements by device","content":{"application/json":{"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"schema":{"items":{"$ref":"#/components/schemas/Measurement"},"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving latest measurements by device","content":{}}},"security":[],"operationId":"getLatestMeasurementsByDevice","deprecated":false}},"/measurements/timerange":{"get":{"summary":"Get measurements in time range","description":"Retrieves measurements from the database within a specified time range","tags":[""],"parameters":[{"schema":{"type":"string"},"in":"query","name":"startTime","required":false,"description":"Start time in ISO format (default: 24 hours ago)"},{"schema":{"type":"string"},"in":"query","name":"endTime","required":false,"description":"End time in ISO format (default: now)"}],"responses":{"200":{"description":"Successful response with measurements in time range","content":{"application/json":{"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"schema":{"items":{"$ref":"#/components/schemas/Measurement"},"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving measurements in time range","content":{}}},"security":[],"operationId":"getMeasurementsInTimeRange","deprecated":false}},"/request":{"post":{"summary":"Submit measurement data","description":"Submit temperature and/or humidity data from a device","tags":[""],"parameters":[],"requestBody":{"content":{"application/json":{"example":{"type":"TEMPERATURE_HUMIDITY","temperature":25,"humidity":6E+1,"ipAddress":"192.168.0.0","deviceName":"Classroom Sensor"},"schema":{"$ref":"#/components/schemas/TemperatureHumidityRequest"}}},"required":true},"responses":{"200":{"description":"Successful submission","content":{}},"400":{"description":"Invalid request body","content":{}}},"security":[],"operationId":"submitMeasurementData","deprecated":false}},"/rooms":{"get":{"summary":"Get all rooms and their associated devices","description":"Retrieves all rooms from the database, including their associated devices","tags":[""],"parameters":[],"responses":{"200":{"description":"Successful response with all rooms","content":{"application/json":{"example":[{"devices":[{"macAddress":"00:11:22:33:44:55","name":"11b Room Sensor"}],"name":"11b"}],"schema":{"items":{"$ref":"#/components/schemas/Room"},"example":[{"devices":[{"macAddress":"00:11:22:33:44:55","name":"11b Room Sensor"}],"name":"11b"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving all rooms","content":{}}},"security":[],"operationId":"getAllRooms","deprecated":false}},"/rooms/measurements":{"get":{"summary":"Get latest measurements by device","description":"Retrieves measurement for the given room","tags":[""],"parameters":[{"schema":{"type":"string"},"in":"query","name":"room","required":false,"description":"the room name to filter measurements by"},{"schema":{"type":"string"},"in":"query","name":"startTime","required":false,"description":"Start time in ISO format"},{"schema":{"type":"string"},"in":"query","name":"endTime","required":false,"description":"End time in ISO format (default: now)"}],"responses":{"200":{"description":"Successful response with measurements for room","content":{"application/json":{"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"schema":{"items":{"$ref":"#/components/schemas/Measurement"},"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"type":"array","nullable":false}}}},"400":{"description":"Error retrieving measurements for room","content":{}}},"security":[],"operationId":"getMeasurementsForRoom","deprecated":false}}},"components":{"schemas":{"MeasurmentsWithCount":{"properties":{"measurements":{"items":{"$ref":"#/components/schemas/Measurement"},"example":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"type":"array","nullable":false},"count":{"example":1,"format":"int32","type":"integer","nullable":false}},"example":{"measurements":[{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"}],"count":1},"type":"object","required":["count","measurements"]},"Measurement":{"properties":{"id":{"example":1,"format":"int32","type":"integer","nullable":false},"timestamp":{"example":"2025-09-24T14:26:48.304192","type":"string","nullable":false},"temperature":{"example":22.5,"format":"float","type":"number","nullable":true},"humidity":{"example":55,"format":"float","type":"number","nullable":true},"ipAddress":{"example":"192.168.1.100","type":"string","nullable":true},"macAddress":{"example":"00:11:22:33:44:55","type":"string","nullable":true},"deviceName":{"example":"Sensor1","type":"string","nullable":true}},"example":{"id":1,"timestamp":"2025-09-24T14:26:48.304192","temperature":22.5,"humidity":55,"ipAddress":"192.168.1.100","macAddress":"00:11:22:33:44:55","deviceName":"Sensor1"},"type":"object","required":["id","timestamp"]},"TemperatureHumidityRequest":{"properties":{"type":{"example":"TEMPERATURE_HUMIDITY","type":"string","nullable":false},"temperature":{"example":25,"format":"double","type":"number","nullable":true},"humidity":{"example":6E+1,"format":"double","type":"number","nullable":true},"ipAddress":{"example":"192.168.0.0","type":"string","nullable":true},"deviceName":{"example":"Classroom Sensor","type":"string","nullable":true}},"example":{"type":"TEMPERATURE_HUMIDITY","temperature":25,"humidity":6E+1,"ipAddress":"192.168.0.0","deviceName":"Classroom Sensor"},"type":"object","required":["type"]},"Device":{"properties":{"macAddress":{"example":"00:11:22:33:44:55","type":"string","nullable":false},"name":{"example":"11b Room Sensor","type":"string","nullable":false}},"example":{"macAddress":"00:11:22:33:44:55","name":"11b Room Sensor"},"type":"object","required":["macAddress","name"]},"Room":{"properties":{"devices":{"items":{"$ref":"#/components/schemas/Device"},"example":[{"macAddress":"00:11:22:33:44:55","name":"11b Room Sensor"}],"type":"array","nullable":false},"name":{"example":"11b","type":"string","nullable":false}},"example":{"devices":[{"macAddress":"00:11:22:33:44:55","name":"11b Room Sensor"}],"name":"11b"},"type":"object","required":["devices","name"]}},"securitySchemes":{}},"openapi":"3.0.0"}